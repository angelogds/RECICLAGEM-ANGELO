<h1 class="page-title">
    <i class="fa-solid fa-gears"></i>
    Correias do Equipamento
</h1>

<div class="card" style="padding:25px;">

    <h2 style="color:#0b5e33; font-size:22px; font-weight:800; margin-bottom:20px;">
        <%= equipamento.nome %>
    </h2>

    <form method="POST" action="/equipamentos/<%= equipamento.id %>/correias">

        <table class="table-modern">
            <thead>
                <tr>
                    <th style="width:60px;">Usa?</th>
                    <th>Correia</th>
                    <th>Modelo</th>
                    <th>Medida</th>
                    <th style="width:120px;">Quantidade</th>
                </tr>
            </thead>

            <tbody>

                <% correias.forEach(c => { %>
                    <tr>

                        <!-- Checkbox -->
                        <td style="text-align:center;">
                            <input type="checkbox"
                                   name="correia"
                                   value="<%= c.id %>"
                                   <%= mapLigados[c.id] ? 'checked' : '' %>
                                   style="width:20px; height:20px;">
                        </td>

                        <!-- Nome -->
                        <td><%= c.nome %></td>

                        <!-- Modelo -->
                        <td><%= c.modelo %></td>

                        <!-- Medida -->
                        <td><%= c.medida %></td>

                        <!-- Quantidade usada -->
                        <td>
                            <input type="number"
                                   name="qtd_<%= c.id %>"
                                   min="1"
                                   value="<%= mapLigados[c.id] || 1 %>"
                                   style="width:80px; text-align:center;">
                        </td>

                    </tr>
                <% }) %>

            </tbody>
        </table>

        <div style="margin-top:25px; display:flex; gap:14px; justify-content:flex-start; flex-wrap:wrap;">

            <button class="btn-primary btn-stack" style="width:95px; height:95px;">
                <i class="fa-solid fa-floppy-disk"></i>
                <span class="btn-label">Salvar</span>
            </button>

            <a href="/equipamentos/<%= equipamento.id %>"
               class="btn-history btn-stack"
               style="background:#6c757d; width:95px; height:95px;">
                <i class="fa-solid fa-arrow-left"></i>
                <span class="btn-label">Voltar</span>
            </a>

            <a href="/equipamentos/<%= equipamento.id %>/historico"
               class="btn-history btn-stack"
               style="width:95px; height:95px;">
                <i class="fa-solid fa-clock-rotate-left"></i>
                <span class="btn-label">Hist√≥rico</span>
            </a>

            <a href="/equipamentos/<%= equipamento.id %>/qrcode"
               class="btn-qr btn-stack"
               style="width:95px; height:95px;">
                <i class="fa-solid fa-qrcode"></i>
                <span class="btn-label">QR Code</span>
            </a>

            <a href="/equipamentos/<%= equipamento.id %>/editar"
               class="btn-edit btn-stack"
               style="width:95px; height:95px;">
                <i class="fa-solid fa-pen"></i>
                <span class="btn-label">Editar</span>
            </a>

        </div>

    </form>

</div>
