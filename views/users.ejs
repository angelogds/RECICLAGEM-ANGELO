<h1 class="page-title">
    <i class="fa-solid fa-users"></i> Usuários
</h1>

<div class="top-actions">
    <a href="/users/new" class="btn btn-verde-claro">
        <i class="fa-solid fa-plus"></i> Novo Usuário
    </a>
</div>

<div class="card tabela-card">

    <table class="tabela">
        <thead>
            <tr>
                <th>ID</th>
                <th>Usuário</th>
                <th>Nome</th>
                <th>Role</th>
                <th style="text-align:center;">Ações</th>
            </tr>
        </thead>

        <tbody>
            <% if (users.length === 0) { %>
                <tr>
                    <td colspan="5" class="empty">Nenhum usuário cadastrado.</td>
                </tr>
            <% } %>

            <% users.forEach(u => { %>
                <tr>
                    <td><%= u.id %></td>
                    <td><%= u.usuario %></td>
                    <td><%= u.nome %></td>
                    <td><%= u.role %></td>

                    <td class="actions">

                        <a href="/users/<%= u.id %>/edit" class="action-btn btn-edit">
                            <i class="fa-solid fa-pen"></i>
                            <span class="btn-label">Editar</span>
                        </a>

                        <form method="POST" action="/users/<%= u.id %>/delete"
                              onsubmit="return confirm('Excluir usuário?');">
                            <button class="action-btn btn-del">
                                <i class="fa-solid fa-trash"></i>
                                <span class="btn-label">Excluir</span>
                            </button>
                        </form>

                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>

</div>

<%- include("./partials/rodape") %>
